`begin_keywords "1800-2012"
`line 1 "oc8051_alu_src_sel.v" 1
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

`line 44 "oc8051_alu_src_sel.v" 0
 

`line 46 "oc8051_alu_src_sel.v" 0
 
 
 

`line 50 "oc8051_alu_src_sel.v" 0
 
 

`line 53 "oc8051_alu_src_sel.v" 0
 
 




`line 59 "oc8051_alu_src_sel.v" 0
 
 
`line 60 "oc8051_alu_src_sel.v" 0
`line 1 "oc8051_timescale.v" 1

`line 3 "oc8051_timescale.v" 0

`line 3 "oc8051_timescale.v" 0
`timescale 1ns/10ps

`line 5 "oc8051_timescale.v" 2
`line 60 "oc8051_alu_src_sel.v" 0

`line 61 "oc8051_alu_src_sel.v" 0
 

`line 63 "oc8051_alu_src_sel.v" 0
 
`line 63 "oc8051_alu_src_sel.v" 0
`line 1 "oc8051_defines.v" 1
 
`line 2 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

`line 45 "oc8051_defines.v" 0
 



`line 49 "oc8051_defines.v" 0
 

`line 51 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 
 



`line 63 "oc8051_defines.v" 0
 

`line 65 "oc8051_defines.v" 0
 



`line 69 "oc8051_defines.v" 0
 

`line 71 "oc8051_defines.v" 0
 
 
 
 
 


`line 78 "oc8051_defines.v" 0
 

`line 80 "oc8051_defines.v" 0
 
 


`line 84 "oc8051_defines.v" 0
 



`line 88 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 


`line 106 "oc8051_defines.v" 0
 


`line 109 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

`line 127 "oc8051_defines.v" 0
 
 
 
 

`line 132 "oc8051_defines.v" 0
 
 



`line 137 "oc8051_defines.v" 0
 
 

`line 140 "oc8051_defines.v" 0
 
 

`line 143 "oc8051_defines.v" 0
 
 
 

`line 147 "oc8051_defines.v" 0
 
 




`line 153 "oc8051_defines.v" 0
 

`line 155 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 
 
 
 
 



`line 170 "oc8051_defines.v" 0
 

`line 172 "oc8051_defines.v" 0
 
 
 
 
 


`line 179 "oc8051_defines.v" 0
 


`line 182 "oc8051_defines.v" 0
 
 
 

`line 186 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

`line 204 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

`line 224 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 


`line 304 "oc8051_defines.v" 0
 

`line 306 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 



`line 331 "oc8051_defines.v" 0
 
 

`line 334 "oc8051_defines.v" 0
 
 
 
 



`line 341 "oc8051_defines.v" 0
 

`line 343 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 


`line 353 "oc8051_defines.v" 0
 

`line 355 "oc8051_defines.v" 0
 
 
 
 

`line 360 "oc8051_defines.v" 0
 


`line 363 "oc8051_defines.v" 0
 

`line 365 "oc8051_defines.v" 0
 
 
 
 



`line 372 "oc8051_defines.v" 0
 

`line 374 "oc8051_defines.v" 0
 
 
 
 



`line 381 "oc8051_defines.v" 0
 


`line 384 "oc8051_defines.v" 0
 
 
 
 

`line 389 "oc8051_defines.v" 0
 
 
 
 

`line 394 "oc8051_defines.v" 0
 


`line 397 "oc8051_defines.v" 0
 


`line 400 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 


`line 410 "oc8051_defines.v" 0
 

`line 412 "oc8051_defines.v" 0
 
 
 
 
 
 
 
 
 


`line 423 "oc8051_defines.v" 0
 

`line 425 "oc8051_defines.v" 0
 
 
 
 
 



`line 433 "oc8051_defines.v" 0
 

`line 435 "oc8051_defines.v" 0
 
 


`line 439 "oc8051_defines.v" 0
 

`line 441 "oc8051_defines.v" 0
 
 
 
 


`line 447 "oc8051_defines.v" 0
 

`line 449 "oc8051_defines.v" 0
 
 

`line 452 "oc8051_defines.v" 0
 
 
 
 
 



`line 460 "oc8051_defines.v" 0
 

`line 462 "oc8051_defines.v" 0
 
 
 
 
 
 


`line 470 "oc8051_defines.v" 0
 


`line 473 "oc8051_defines.v" 0
 


`line 476 "oc8051_defines.v" 0
 
 
 
 



`line 483 "oc8051_defines.v" 0
 


`line 486 "oc8051_defines.v" 0
 
 
 
 
 
 



`line 495 "oc8051_defines.v" 0
 


`line 498 "oc8051_defines.v" 0
 
 


`line 502 "oc8051_defines.v" 0
 

`line 504 "oc8051_defines.v" 0
 
 
 
 
 
 
 




`line 515 "oc8051_defines.v" 0
 


`line 518 "oc8051_defines.v" 0
 
 


`line 522 "oc8051_defines.v" 0
 

`line 524 "oc8051_defines.v" 0
 
 


`line 528 "oc8051_defines.v" 0
 


`line 531 "oc8051_defines.v" 0
 
 


`line 535 "oc8051_defines.v" 2
`line 63 "oc8051_alu_src_sel.v" 0



`line 66 "oc8051_alu_src_sel.v" 0
module oc8051_alu_src_sel (clk, rst, rd, sel1, sel2, sel3,
                     acc, ram, pc, dptr,

`line 69 "oc8051_alu_src_sel.v" 0
                     op1, op2, op3,

`line 71 "oc8051_alu_src_sel.v" 0
                     src1, src2, src3);


`line 74 "oc8051_alu_src_sel.v" 0
input clk, rst, rd, sel3;
input [1:0] sel2;
input [2:0] sel1;
input [7:0] acc, ram;
input [15:0] dptr;
input [15:0] pc;


`line 82 "oc8051_alu_src_sel.v" 0
input [7:0] op1, op2, op3;

`line 84 "oc8051_alu_src_sel.v" 0
output [7:0] src1, src2, src3;

`line 86 "oc8051_alu_src_sel.v" 0
reg [7:0] src1, src2, src3;

`line 88 "oc8051_alu_src_sel.v" 0
reg [7:0] op1_r, op2_r, op3_r;

`line 90 "oc8051_alu_src_sel.v" 0
 

`line 92 "oc8051_alu_src_sel.v" 0
 

`line 94 "oc8051_alu_src_sel.v" 0
 
always @(sel1 or op1_r or op2_r or op3_r or pc or acc or ram)
begin
  case (sel1) 
    3'b000: src1 = ram;
    3'b011: src1 = acc;
    3'b111: src1 = op1_r;
    3'b001: src1 = op2_r;
    3'b010: src1 = op3_r;
    3'b100: src1 = pc[15:8];
    3'b101: src1 = pc[7:0];
     
     
    default: src1 = 8'h00;
  endcase
end

`line 111 "oc8051_alu_src_sel.v" 0
 

`line 113 "oc8051_alu_src_sel.v" 0
 

`line 115 "oc8051_alu_src_sel.v" 0
 
always @(sel2 or op2_r or acc or ram or op1_r)
begin
  case (sel2) 
    3'b01: src2= acc;
    3'b10: src2= 8'h00;
    3'b00: src2= ram;
    3'b11: src2= op2_r;
 
  endcase
end

`line 127 "oc8051_alu_src_sel.v" 0
 

`line 129 "oc8051_alu_src_sel.v" 0
 

`line 131 "oc8051_alu_src_sel.v" 0
 

`line 133 "oc8051_alu_src_sel.v" 0
always @(sel3 or pc[15:8] or dptr[15:8] or op1_r)
begin
  case (sel3) 
    1'b0:   src3= dptr[15:8];
    1'b1:   src3= pc[15:8];
 
  endcase
end


`line 143 "oc8051_alu_src_sel.v" 0
always @(posedge clk or posedge rst)
  if (rst) begin
    op1_r <= #1 8'h00;
    op2_r <= #1 8'h00;
    op3_r <= #1 8'h00;
  end else begin
    op1_r <= #1 op1;
    op2_r <= #1 op2;
    op3_r <= #1 op3;
  end

`line 154 "oc8051_alu_src_sel.v" 0
endmodule

`line 156 "oc8051_alu_src_sel.v" 2
